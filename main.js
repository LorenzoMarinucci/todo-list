!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var n=function(e){return e.name||(e.name="My Project"),{todos:[],name:e.name,description:e.description}};var r=function(e,t=!1){return e.name||(e.name="Todo"),{name:e.name,priority:e.priority,dueDate:e.dueDate,description:e.description,done:t}};var d=function(){const e=function(e,o){for(;e.firstChild;)e.firstChild.remove();o.todos.length>0&&o.todos.forEach((o,n)=>{let r=document.createElement("div");r.classList.add("todo"),r.setAttribute("data-index",n),t(o,r),e.appendChild(r)})},t=(e,t)=>{for(;t.firstChild;)t.firstChild.remove();let o=document.createElement("div");o.classList.add("todoHeader");let n,r=document.createElement("h3");switch(e.priority){case"High":n="red";break;case"Low":n="green";break;case"Medium":n="yellow";break;default:n="grey"}r.innerHTML=`<span class="dot ${n}"></span> ${e.name}`,o.appendChild(r);let d=document.createElement("div");d.classList.add("buttons");let i=e.done?' checked="checked"':"",a=null==e.expand||1==e.expand?"up":"down";d.innerHTML=`<label class="container"><input type="checkbox"${i} /><span class="checkmark"></span></label><div class="todoOptions"><img class="edit" src="images/edit.png" /><img class="delete" src="images/delete.png" /></div></div><i class="${a}" class="showTodo"></i>`,o.appendChild(r),o.appendChild(d);let c=document.createElement("h4");if(c.textContent=`Due: ${e.dueDate}`,t.appendChild(o),t.appendChild(c),null==e.expand||1==e.expand){e.expand=!0;let o=document.createElement("h4");o.textContent=`Priority: ${e.priority}`;let n=document.createElement("p");n.classList.add("description"),n.textContent=e.description,t.appendChild(o),t.appendChild(n)}};return{renderProjects:function(e,t){for(;e.firstChild;)e.firstChild.remove();t.forEach((t,o)=>{let n=document.createElement("h2");n.textContent=`${t.name}`;let r=document.createElement("div");r.classList.add("project"),r.setAttribute("data-index",o),r.appendChild(n),e.appendChild(r)})},renderTodosContainer:function(t,o){for(;t.firstChild;)t.firstChild.remove();let n=document.createElement("div");n.id="todosHeader";let r=document.createElement("h2");r.textContent=`${o.name}`,n.appendChild(r);let d=document.createElement("p");d.id="projectDescription",d.textContent=o.description,n.appendChild(d);let i=document.createElement("div");e(i,o),i.id="todoList";let a=document.createElement("div"),c=document.createElement("button");c.textContent="Edit Project";let l=document.createElement("button");l.textContent="Delete Project";let s=document.createElement("button");s.textContent="Add Todo",c.id="editProject",l.id="deleteProject",s.id="addTodo",a.appendChild(c),a.appendChild(l),a.appendChild(s),a.id="projectButtons",t.appendChild(n),t.appendChild(document.createElement("hr")),t.appendChild(i),t.appendChild(document.createElement("hr")),t.appendChild(a)},renderTodos:e,showProjectForm:()=>{let e=document.querySelector("body"),t=document.createElement("div");t.id="formBackground",t.innerHTML='<div id="projectForm">        <form action="">          <label for="name">Project name</label>          <input type="text" id="name" />          <label for="description">Project description</label>          <textarea id="description"></textarea>        </form>        <div id="projectFormButtons">          <button id="cancelSubmition">Cancel</button>          <button id="submitProject">Submit</button>        </div>      </div>',e.appendChild(t)},deleteForm:()=>{let e=document.getElementById("formBackground");e.parentElement.removeChild(e)},fetchProjectData:()=>{const e=document.querySelector("form");return{name:e.querySelector("#name").value,description:e.querySelector("#description").value}},renderTodosHeader:(e,t,o)=>{e.querySelector("h2").textContent=t,e.querySelector("p").textContent=o},setProjectForm:e=>{for(let t in e)"todos"!=t&&(document.getElementById(t).value=e[t])},showTodoForm:()=>{let e=document.querySelector("body"),t=document.createElement("div");t.id="formBackground",t.innerHTML='<div id="todoForm">     <form action="">      <label for="name">Todo name</label>      <input type="text" id="name" />      <label for="dueDate">Due date</label>      <input type="datetime-local" id="dueDate" />      <label for="priority">Priority</label>      <select id="priority" name="priority"        ><option value="None" selected>None</option        ><option value="Low">Low</option>        <option value="Medium">Medium</option        ><option value="High">High</option>      </select>      <label for="description">Description</label>      <textarea id="description"></textarea>    </form>    <div id="todoFormButtons">      <button id="cancelSubmition">Cancel</button>      <button id="submitTodo">Submit</button>    </div>  </div>',e.appendChild(t)},fetchTodoData:()=>{const e=document.querySelector("form");return{name:e.querySelector("#name").value,description:e.querySelector("#description").value,priority:e.querySelector("#priority").value,dueDate:e.querySelector("#dueDate").value}},setTodoForm:e=>{for(let t in e)"done"!=t&&"expand"!=t&&(document.getElementById(t).value=e[t])},renderSingleTodo:t,expansionHandler:(e,t)=>{if(e.expand){let o=document.createElement("h4");o.textContent=`Priority: ${e.priority}`;let n=document.createElement("p");n.classList.add("description"),n.textContent=e.description,t.appendChild(o),t.appendChild(n),t.querySelector("i").className="up"}else t.lastChild.remove(),t.lastChild.remove(),t.querySelector("i").className="down"}}}();const i=document.getElementById("projectList"),a=document.getElementById("todosContainer");let c,l,s,u=[],p=!1,m=!1;function f(){c=document.querySelector(".project"),c.toggleAttribute("selected"),l=parseInt(c.getAttribute("data-index")),d.renderTodosContainer(a,u[l])}function h(e){if(!e.hasAttribute("selected")){for(c&&c.toggleAttribute("selected"),c=e,c.toggleAttribute("selected"),l=c.getAttribute("data-index");a.firstChild;)a.firstChild.remove();d.renderTodosContainer(a,u[l])}}window.addEventListener("load",()=>{u.push(n({name:"Default",description:"Just testing"})),u.push(n({name:"Asdf",description:"Whatever"})),u[0].todos.push(new r({name:"Asdd",priority:"High",dueDate:"2/2/20",description:"arre"})),u[0].todos.push(new r({name:"Correr",priority:"Low",dueDate:"2/2/20",description:"Salir a correr"})),u[1].todos.push(new r({name:"CorrerASÃ‘DJASLDKJASLKDJASLKDJASLKDJASLKJDASLKJDAKLSDASJKLDJLASDJASLDJKASLKJD",priority:"Medium",dueDate:"2/2/20",description:"Salir a correr"})),u[1].todos.push(new r({name:"Nada",priority:"None",dueDate:"2/2/20",description:"Salir a correr"})),u.push(n({name:"",description:""})),d.renderProjects(i,u),u.length>0&&f()}),document.addEventListener("click",e=>{if(e.target)switch(e.target.id){case"cancelSubmition":d.deleteForm(),m=!1,p=!1;break;case"submitProject":!function(){if(m){let e=d.fetchProjectData();u[l].name=e.name,u[l].description=e.description,d.renderProjects(i,u),d.renderTodosHeader(document.getElementById("todosHeader"),u[l].name,u[l].description),m=!1,c=Array.from(i.childNodes).find(e=>e.getAttribute("data-index")==l),c.toggleAttribute("selected")}else u.push(n(d.fetchProjectData())),d.renderProjects(i,u),h(document.querySelectorAll(".project:last-child")[0]);d.deleteForm()}();break;case"deleteProject":!function(){if(u.splice(l,1),d.renderProjects(i,u),u.length>0)f();else{for(;a.firstChild;)a.firstChild.remove();let e=document.createElement("div");e.textContent="You don't have any project. Add one!",e.style.textAlign="center",e.style.margin="0 auto",a.appendChild(e)}}();break;case"editProject":m=!0,d.showProjectForm(),d.setProjectForm(u[l]);break;case"submitTodo":!function(){let e=d.fetchTodoData();p?(u[l].todos[s]=r(d.fetchTodoData(),u[l].todos[s].done),d.renderSingleTodo(u[l].todos[s],Array.from(document.querySelectorAll(".todo")).find(e=>e.getAttribute("data-index")==s)),p=!1):(u[l].todos.push(new r(e)),d.renderTodos(document.getElementById("todoList"),u[l])),d.deleteForm()}();break;case"addProject":d.showProjectForm();break;case"addTodo":d.showTodoForm();break;default:e.target.parentNode.classList.contains("project")?h(e.target.parentNode):e.target.classList.contains("checkmark")?(t=e.target.closest(".todo"),u[l].todos[parseInt(t.getAttribute("data-index"))].done=!u[l].todos[parseInt(t.getAttribute("data-index"))].done):e.target.classList.contains("edit")?(s=parseInt(e.target.closest(".todo").getAttribute("data-index")),p=!0,d.showTodoForm(),d.setTodoForm(u[l].todos[s])):e.target.classList.contains("delete")?(s=parseInt(e.target.closest(".todo").getAttribute("data-index")),u[l].todos.splice(s,1),d.renderTodos(document.getElementById("todoList"),u[l])):"I"==e.target.nodeName&&(s=parseInt(e.target.closest(".todo").getAttribute("data-index")),u[l].todos[s].expand=!u[l].todos[s].expand,d.renderSingleTodo(u[l].todos[s],Array.from(document.querySelectorAll(".todo")).find(e=>e.getAttribute("data-index")==s)))}var t})}]);